@todo pose_short: synchronous command/1 for one-shot shell
@todo confirm lock released on short circuit
@todo refactor short-circuit logic to pose_shone
@todo realname: use pose_shell
@todo realname: use cwd
@todo remove FILENAME macro
@todo make good
@todo ...plus 3 more (see TODO.edoc)
