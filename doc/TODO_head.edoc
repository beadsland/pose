@todo reproduce dos path error
@todo file_open: error handling
@todo realpath: functional rewrite
@todo realpath: error handling
@todo remove FILENAME macro
@todo make good
@todo resume work on 2do_go4